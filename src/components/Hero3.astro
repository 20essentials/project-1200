---
const nameOfcontainer = `container-3`;
const nameOfContainerRings = 'container-rings-3';
---

<section class={`am-container ${nameOfcontainer}`}>
  <aside class='scene'>
    <section class='wrapper'>
      <article class={nameOfContainerRings}></article>
    </section>
  </aside>
</section>

<script>
  const tunnel = document.querySelector('.container-rings-3') as HTMLElement;
  const total = 77;
  const docFrag = document.createDocumentFragment();

  for (let i = 1; i <= total; i++) {
    const li = document.createElement('li');
    li.classList.add('ring');
    const hue = i * 5; // paso de 5Â°
    li.style.color = `hsl(${hue}, 100%, 50%)`;
    li.style.transform = `rotateX(${i * 5}deg) translateY(-200px)`;
    docFrag.appendChild(li);
  }

  tunnel.appendChild(docFrag);
</script>

<style is:global>
  .container-3 {
    .scene {
      width: 100%;
      perspective: 500px;
    }

    .wrapper {
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      transform: rotateY(0) translateZ(0);
    }

    .container-rings-3 {
      position: relative;
      width: 120px;
      height: 120px;
      margin: 0 auto;
      transform-style: preserve-3d;
      perspective-origin: 50% 50%;
      animation: spin 5s infinite linear;
    }

    .ring {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 2px dashed currentColor;
      border-radius: 50%;
      transform-origin: 50% 50%;
      transform: translateY(-200px);
      list-style: none;
    }
  }

  @keyframes spin {
    to {
      transform: rotateX(360deg) rotateY(360deg);
    }
  }
</style>
